<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Smart Cville Housing Data Project</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/0.5.7/chartjs-plugin-annotation.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="main.css"> 
  </head>
  <body>
    <div class="chart-container" style="position: relative; height:80vh; width:80vw">
        <canvas id='chartChar'></canvas>
    </div>
  </body>
  <script>
        var ctx1=document.getElementById('chartChar').getContext('2d') ;
        var chart1 = new Chart(ctx1, {
            type: 'bar',
            data: {
                labels: ['Venable','Barracks / Rugby','Rose Hill','10th & Page','Lewis Mountain','Jefferson Park Avenue','Fry\'s Spring','Johnson Village','Fifeville','Ridge Street','Starr Hill','North Downtown','The Meadows','Greenbrier','Locust Grove','Martha Jefferson','Woolen Mills','Belmont'],
                
                datasets: [
                {
                    label:'Average Percent Change in Sale Price (%)',
                    data:[ 265.13,41.36,175.98,340.25,77.90,21.20,122.30,42.67,87.19,33.73,51.95,88.63,48.82,44.36,78.32,55.77,53.03,57.09],
                    backgroundColor:'#76D7C4'
                }
                ]
            },
            options: {
                title:{
                    display: true,
                    text: 'Average Percent Change in Sale Prices of Charlottesville Residential Real Estate with 2 or more Sales 2000-2019'
                },
                scales:{
                    xAxes:[{
                        scaleLabel:{
                            display: true,
                            labelString: 'Neighborhood'
                        }
                    }],
                    yAxes:[{
                        scaleLabel:{
                            display: true,
                            labelString:'Average % Change in Sale Price 2000-2019'
                        }
                    }]
                },
                maintainAspectRatio: false,
                responsive: true,
                legend: {
                    display: false,   
                },
                plugins:{
                    colorschemes:{
                        scheme: 'brewer.Paired12',
                    }
                },
                annotation: {
                    annotations: [{
                        type: 'line',
                        mode: 'horizontal',
                        scaleID: 'y-axis-0',
                        value: 81.53,
                        borderColor: '#117864',
                        borderWidth: 4,
                        label: {
                            enabled: true,
                            content: 'Charlottesville Average (%)',
                            fontSize:'8',
                            position: 'right',
                            backgroundColor:'#117864',
                            fontColor:'white',
                            yAdjust: 5,   
                        }
                    }]
                }       
            }
        });
  </script>
</html>

